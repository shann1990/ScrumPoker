<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Socket IO Tutorial</title>
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/main.css">
	<script src="js/jquery.js"></script>
	<script src="js/socket.io.js"></script>
	<script>
		var dashboard = io('localhost:3000/dashboard',{forceNew : true});	
		
		var userArray = [];

		dashboard.on('user-count',function(count){
			$('#currentUsers').text(count);
		});

		dashboard.on('users',function(users){
			for(var key in users){
				$('#'+key).text(users[key].name);				
			}
			CheckSeats();
		});

		$(document).ready(function(){
			$('#currentUsers').text(0);	
			CheckSeats();
		})

		function CheckSeats(){
			$.each($('.woodBG'),function(){
				if($(this).text() ==""){
					$(this).slideUp();
					$(this).next().slideUp();
				}
				else{
					$(this).slideDown();
				}
			})
		}
		
	</script>
</head>
<body>	Current Users = <span id="currentUsers"></span>
<div class="container titleText">Scrum Poker</div>

<div class="container">
	<div class="row playerRow">
		<div class="col-sm-3">
			<div class="woodBG" id="player1"></div>
			<div class="card">7</div>
		</div>
		<div class="col-sm-3">
			<div class="woodBG" id="player2"></div>
			<div class="card">7</div>
		</div>
		<div class="col-sm-3">
			<div class="woodBG" id="player3"></div>
			<div class="card">7</div>
		</div>
		<div class="col-sm-3">
			<div class="woodBG" id="player4"></div>
			<div class="card">7</div>
		</div>
	</div>

	<div class="row playerRow">
		<div class="col-sm-3">
			<div class="woodBG" id="player5"></div>
			<div class="card">7</div>
		</div>
		<div class="col-sm-3">
			<div class="woodBG" id="player6"></div>
			<div class="card">7</div>
		</div>
		<div class="col-sm-3">
			<div class="woodBG" id="player7"></div>
			<div class="card">7</div>
		</div>
		<div class="col-sm-3">
			<div class="woodBG" id="player8"></div>
			<div class="card">7</div>
		</div>
	</div>
	<div class="row playerRow">
		<div class="col-sm-12 barChartCol">
			<div class="barChart">2</div>
		</div>
	</div>
</div>
</body>
</html>